name = "metadao-threshold-tracker"
main = "src/worker.ts"
compatibility_date = "2024-09-23"
compatibility_flags = ["nodejs_compat"]

[env.production]
routes = []

# Cron trigger for hourly updates
[triggers]
crons = ["0 * * * *"]  # Every hour at minute 0

# Environment variables (set these in Cloudflare dashboard or via wrangler)
# [vars]
# TELEGRAM_BOT_TOKEN = ""
# TELEGRAM_CHAT_ID = ""
# PROPOSAL_PUBKEY = "6cdhy4j6CAAJjE1z2iQDsFda2BrqJkhtHrRWT9QasSoa"
# SOLANA_RPC_URL = "https://api.mainnet-beta.solana.com"

[observability]
enabled = false
head_sampling_rate = 1

[observability.logs]
enabled = true
head_sampling_rate = 1
persist = true
invocation_logs = true

[observability.traces]
enabled = false
persist = true
head_sampling_rate = 1